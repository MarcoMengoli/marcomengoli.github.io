<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Marco Mengoli's blog &#8211; Marco Mengoli's Blog</title>
<meta name="description" content="blog">
<meta name="keywords" content="Jekyll, theme, themes, responsive, blog, modern">



<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Marco Mengoli's blog">
<meta property="og:description" content="blog">
<meta property="og:url" content="/">
<meta property="og:site_name" content="Marco Mengoli's Blog">





<link rel="canonical" href="/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Marco Mengoli's Blog Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"/>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="/assets/css/jquery.mmenu.all.css">
<link rel="stylesheet" href="/assets/css/jquery.floating-social-share.min.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="post-index">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->



<div class="entry-header">
  <div class="header-menu header-menu-top">
    <ul>
      <li class="header-item-title header-toggle "><a href="#menu"><h2><i class="fa fa-bars"></i></h2></a></li>
      <li class="header-item-title">
        <a href="/">
          
            <img class="logo" src="/images/logo.png" alt="Marco Mengoli's Blog">
          
          <h2 class="title"> Marco Mengoli's Blog</h2>
        </a>
      </li>
      
        
        

        
          <li class="header-item "><a href="/about"><h3>About</h3></a></li>
        
      
        
        

        
          <li class="header-item "><a href="/categories"><h3>Categories</h3></a>
            <ul class="header-submenu">
              
                
                  <li class="sub-item"><a href="/categories/#.NET core">.NET core</a></li>
              
                
                  <li class="sub-item"><a href="/categories/#Computer vision">Computer vision</a></li>
              
                
                  <li class="sub-item"><a href="/categories/#Go Programming">Go Programming</a></li>
              
                
                  <li class="sub-item"><a href="/categories/#Programming Python">Programming Python</a></li>
              
                
                  <li class="sub-item"><a href="/categories/#Tutorial">Tutorial</a></li>
              
            </ul>
          </li>
        
      
        
        

        
          <li class="header-item "><a href="/tags"><h3>Tags</h3></a></li>
        
      
        
        

        
          <li class="header-item "><a href="/"><h3>Home</h3></a></li>
        
      
      <li class="header-item"><a href="/search"><h3><i class="fa fa-search"></i></h3></a></li>
    </ul>
  </div>
	  <div class="header-image">
		<div class="header-title-wrap">
		  <h1>Marco Mengoli's blog</h1>
		  

		  
		</div><!-- /.header-title-wrap -->
	  </div><!-- /.header-title -->
</div><!-- /.entry-header -->


<nav id="menu" style="display: none">
  <ul>
    
      
        <li><a href="/"><h3>Home</h3></a></li>
      
    
      
        <li><a href="/tags"><h3>Tags</h3></a></li>
      
    
      
        <li><a href="/categories"><h3>Categories</h3></a>
          <ul>
            
              
                <li><a href="/categories/#.NET core">.NET core</a></li>
            
              
                <li><a href="/categories/#Computer vision">Computer vision</a></li>
            
              
                <li><a href="/categories/#Go Programming">Go Programming</a></li>
            
              
                <li><a href="/categories/#Programming Python">Programming Python</a></li>
            
              
                <li><a href="/categories/#Tutorial">Tutorial</a></li>
            
          </ul>
        </li>
      
    
      
        <li><a href="/about"><h3>About</h3></a></li>
      
    
  </ul>
</nav>




<div id="main" role="main">
  
<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2016-11-24T00:00:00+01:00"><a href="/.net%20core/EFCore_createSimpleModel_codeFirst/">November 24, 2016</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Marco Mengoli">Marco Mengoli</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~29 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/.net%20core/EFCore_createSimpleModel_codeFirst/" rel="bookmark" title="Creating a simple model and generate the database with EF Core 1.0" itemprop="url">Creating a simple model and generate the database with EF Core 1.0</a></h1>
    
  </header>
  <div class="entry-content">
    
      <p>Create a <strong>ASP.NET Core Web Application (.NET Core)</strong> project and select the template <strong>Web Application</strong>.
In this example I will create a simple Web Application to model a simple school. I will call the project <em>SchoolWebApp</em>.</p>

<p>Install the packages for <em>EF Core tools</em> and <em>SqlServer provider</em> as seen in the <a href="http://marcomengoli.github.io/.net%20core/setup_EFcore_vsproject/">previous post</a>.</p>

<h3 id="create-the-model">Create the model</h3>

<p>Create a <em>Model</em> folder. Inside this folder, create a <code class="highlighter-rouge">Student.cs</code> file and will insert the following properties:</p>

<p>~~~ c#
public int StudentID { get; set; }
public String Name { get; set; }
public String Surname { get; set; }
~~~</p>

<p>Every property of the class will be mapped as a column with the same name in the <code class="highlighter-rouge">Student</code> table (which will be automatically generated).</p>

<p>Code First infers that a property is a primary key if it’s named one of the following:</p>

<ul>
  <li>Class name followed by “Id”.</li>
  <li>“Id”</li>
</ul>

<h3 id="create-the-context">Create the context</h3>

<p>To generate the database table, it’s not sufficient to create the <code class="highlighter-rouge">Student</code> class. We also need to create a DbContext containing a DbSet class (exposing it as a property) of type <code class="highlighter-rouge">Student</code>.</p>

<p>Doing this, EF will generate a table named <em>Students</em> (class name + “s”) and a table for each type referenced by the Student class (in this case nothing).</p>

<p>Let’s create a <em>Persistence</em> folder in the project root and create inside it a <code class="highlighter-rouge">SchoolContext.cs</code> file. This file will contain the <code class="highlighter-rouge">SchoolContext</code>, which extends the <code class="highlighter-rouge">DbContext</code> class.</p>

<p>This class will allow us to generate the database in an automatic way.</p>

<p>Add the following constructor and property to the class:</p>

<p>~~~ c#
public SchoolContext(DbContextOptions<schoolcontext> options) : base(options) { }</schoolcontext></p>

<p>public DbSet<student> Students { get; set; }
~~~</student></p>

<p>Add also the <code class="highlighter-rouge">using Microsoft.EntityFrameworkCore;</code> at the beginning of the file.</p>

<h3 id="register-the-context-with-di">Register the context with DI</h3>

<p>In order to use the SchoolContext in the our web application, we need to register it as a service.</p>

<p>The classes of the application (such as controllers) which requires the SchoolContext are provided by Dependency Injection through the class contructor.</p>

<p>Open the <code class="highlighter-rouge">Startup.cs</code> class and add the following lines at the beginning of <code class="highlighter-rouge">ConfigureServices(IServiceCollection services)</code> method.</p>

<p>~~~ c#
var connectionString = @”Server=(localdb)\mssqllocaldb;Database=SchoolDatabase;Trusted_Connection=True;”;
services.AddDbContext<schoolcontext>(options =&gt; options.UseSqlServer(connectionString));
~~~</schoolcontext></p>

<p>Add also the <code class="highlighter-rouge">using Microsoft.EntityFrameworkCore;</code> at the beginning of the file.</p>

<h3 id="generate-the-code-to-create-the-database-and-execute-it">Generate the code to create the database and execute it</h3>

<p>We are finally ready to automatically generate the code, which once executed will create the database.</p>

<p>Open the <code class="highlighter-rouge">Package Manager Console</code> and enter the command <code class="highlighter-rouge">Add-Migration</code> followed by the name you want to give to this migration. For example:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Add-Migration CreateStudentsMigration
</code></pre>
</div>

<p>Let’s look at the project directory: a new <strong>Migration</strong> folder has been generated.</p>

<p>It contains 2 classes:</p>

<ul>
  <li>20161124115014_CreateStudentsMigration.cs</li>
  <li>SchoolContextModelSnapshot.cs</li>
</ul>

<p>Analyze the content of the first file.
It contains a class <code class="highlighter-rouge">CreateStudentsMigration</code> (the name is the same of the one entered as argument of <code class="highlighter-rouge">Add-Migration</code> command), which has 2 methods:</p>

<ul>
  <li>Up</li>
  <li>Down</li>
</ul>

<p>The <code class="highlighter-rouge">Up</code> method is responsible of the creation of the <code class="highlighter-rouge">Students</code> table in the database. It creates the table, the columns and the contraints inferred by the class model.</p>

<p>The <code class="highlighter-rouge">Down</code> method is responsible to delete the table once it’s not longer needed.</p>

<p>Now it’s time to generate the database. With EF core is a very simple operation, you only have to run the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Update-Database
</code></pre>
</div>

<p>command to apply the migration.</p>

<h3 id="view-the-created-database">View the created database</h3>

<p>Of course, we are very interested in viewing the created database.</p>

<p>To do so, open the <em>SQL Server Object Explorer</em> tab in Visual Studio, expand the <code class="highlighter-rouge">(localdb)\MSSQLLocalDB</code> selection, <em>Database</em> folder and… here’s our brand new <code class="highlighter-rouge">SchoolDatabase</code>.</p>

<p>Expand it, go into the <em>Tables</em> folder and you can find the <code class="highlighter-rouge">dbo.Students</code> table!</p>

<figure class="half center">
	<img src="https://marcomengoli.github.io/filesForPosts/DotNET_Core/2016-11-24-EFCore_createSimpleModel_codeFirst/databaseView.PNG" alt="DatabaseView" />
	<figcaption title="Students table view">Database view</figcaption>
</figure>

<p>Double clicking on the <code class="highlighter-rouge">dbo.Students</code> table it will open the <em>Design window</em>. Here you can see the table structure and the <em>SQL</em> commands that created it.</p>

<figure>
	<img src="https://marcomengoli.github.io/filesForPosts/DotNET_Core/2016-11-24-EFCore_createSimpleModel_codeFirst/studentsTable.PNG" alt="Students Table View" />
	<figcaption title="Students table view">Students table view</figcaption>
</figure>

<p>Well done! We have generated the relational database from our class model!</p>

<h3 id="adding-a-class-to-the-model">Adding a class to the model</h3>

<p>In the real world, a student belongs to a class. The class is characterized by a name, a room used for the lecture and, of course, by a set of students.
Let’s add a class to the model which represents this concept.</p>

<p>Add to the <em>Model</em> folder the <code class="highlighter-rouge">Class.cs</code> file and insert the following code:</p>

<p>~~~ c#
public class Class
{
	public String ClassId { get; set; }
	public String RoomName { get; set; }
	public List<student> Students {get; set;}</student></p>

<p>}
~~~</p>

<p>Now, insert the <code class="highlighter-rouge">Class</code> class to the <code class="highlighter-rouge">SchoolContext</code>. It will appear like the following:</p>

<p>~~~ c#
public class SchoolContext : DbContext
{
	public SchoolContext(DbContextOptions<schoolcontext> options) : base(options) { }</schoolcontext></p>

<div class="highlighter-rouge"><pre class="highlight"><code>public DbSet&lt;Student&gt; Students { get; set; }
public DbSet&lt;Class&gt; Classes { get; set; } } ~~~
</code></pre>
</div>

<p>To generate another migration file, run the command <code class="highlighter-rouge">Add-Migration</code> with a name which specifies the operation to do (adding a Class to the database):</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Add-Migration CreateClassesMigration
</code></pre>
</div>

<p>As you can see, a new class in the <em>Migrations</em> folder has been created, containing the code to create:</p>

<h5 id="create-classes-table-on-the-database-composed-by-classid-and-roomname-columns">1 - Create <strong>Classes</strong> table on the database, composed by <em>ClassId</em> and <em>RoomName</em> columns</h5>

<p>~~~ c#
migrationBuilder.CreateTable(
	name: “Classes”,
	columns: table =&gt; new
	{
		ClassId = table.Column<string>(nullable: false),
		RoomName = table.Column<string>(nullable: true)
	},
	constraints: table =&gt;
	{
		table.PrimaryKey("PK_Classes", x =&gt; x.ClassId);
	});
~~~</string></string></p>

<h5 id="add-a-classid-column-to-the-students-table">2 - Add a <strong>ClassId</strong> column to the <strong>Students</strong> table</h5>

<p>~~~ c#
migrationBuilder.AddColumn<string>(
	name: "ClassId",
	table: "Students",
	nullable: true);
~~~</string></p>

<h5 id="add-the-contraint-to-link-the-foreign-key-of-table-students-to-the-primary-key-of-table-classes">3 - Add the contraint to link the foreign key of table <strong>Students</strong> to the primary key of table <strong>Classes</strong></h5>

<p>~~~ c#
migrationBuilder.AddForeignKey(
	name: “FK_Students_Classes_ClassId”,
	table: “Students”,
	column: “ClassId”,
	principalTable: “Classes”,
	principalColumn: “ClassId”,
	onDelete: ReferentialAction.Restrict);
~~~</p>

<p>Now we can apply these changes to the database running:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Update-Database
</code></pre>
</div>

<figure>
	<img src="https://marcomengoli.github.io/filesForPosts/DotNET_Core/2016-11-24-EFCore_createSimpleModel_codeFirst/studentsTable_afterClassesMigration.PNG" alt="Students Table View After ClassesMigration" />
	<figcaption title="Students table view">Students table view after the Classes Migration</figcaption>
</figure>

<figure>
	<img src="https://marcomengoli.github.io/filesForPosts/DotNET_Core/2016-11-24-EFCore_createSimpleModel_codeFirst/classessTable.PNG" alt="Classes Table View" />
	<figcaption title="Students table view">Students table view</figcaption>
</figure>

<p>As you can see, EF automatically infers the 1:N relation between <strong>Students</strong> and <strong>Classes</strong> and generates the foreign key in the <strong>Students</strong> table. <em>That’s very elegant</em>!</p>

<h3 id="undoing-a-database-update">Undoing a database update</h3>

<p>What can we do if the migration we have applied was wrong?
Fortunately, EF provides also this scenario.</p>

<p>If you want to undo the <code class="highlighter-rouge">Update-Database</code> command, you can just run a <code class="highlighter-rouge">Update-Database</code> followed by the name of the migration you want to rollback.
For example, if we want to come back to the previous state, when we had only the Students table, just run:</p>

<p>Now it’s time to generate the database. With EF core is a very simple operation, you only have to run:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Update-Database CreateStudentsMigration
</code></pre>
</div>


    
  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2016-11-23T00:00:00+01:00"><a href="/.net%20core/setup_EFcore_vsproject/">November 23, 2016</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Marco Mengoli">Marco Mengoli</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~14 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/.net%20core/setup_EFcore_vsproject/" rel="bookmark" title="Setting up the Entity Framework Core in a Visual Studio Project" itemprop="url">Setting up the Entity Framework Core in a Visual Studio Project</a></h1>
    
  </header>
  <div class="entry-content">
    
      <p>Entity Framework Core is the brand new ORM framework that allows a .NET Core developer to work with a database without worrying about writing data-access code and mapping the object model with the relational model.</p>

<p>It has also some features that makes it more than a simple ORM: with EF Core , a developer can generate the relational model given the object model, or viceversa.</p>

<p>For an overview of the framework, see the <a href="https://msdn.microsoft.com/en-gb/library/bb399567(v=vs.110).aspx">MSDN documentation page</a>.</p>

<h2 id="setup-ef-core-on-vs-for-code-first-approach">Setup EF Core on VS for code-first approach</h2>

<p>With the <em>code-first</em> approach, once you have generated the <em>Model</em> following certain <a href="https://msdn.microsoft.com/en-us/library/jj679962(v=vs.113).aspx">conventions</a>, you will be able to automatically generate the entire database and map the model classes with the generated relational tables.</p>

<p>To use the <em>EF Core</em> with this approach, we need to install the packages which provide the EF commands and the database provider (in this example we will use <em>SqlServer</em>). 
We can procede using the Nuget <em>Package Manager Console</em>, but we can use also the NuGet GUI window.</p>

<p>The packages to be installed are:</p>

<ul>
  <li>Microsoft.EntityFrameworkCore.SqlServer</li>
  <li>Microsoft.EntityFrameworkCore.Tools -Pre</li>
  <li>Microsoft.EntityFrameworkCore.Design</li>
</ul>

<p>Before installing a package, we need to check the dependencies that it requires.
Running the <code class="highlighter-rouge">Install-Package Microsoft.EntityFrameworkCore.SqlServer</code> command, it will install the latest version of the package (currently 1.1.0).
This package depends on other packages with version &gt;= 1.1.0, but in my environment I have installed the LTS version 1.0.1. We have an issue.</p>

<p>There are 2 possible solutions:</p>

<ul>
  <li>update the .NET core environment to the non LTS version</li>
  <li>install the <code class="highlighter-rouge">Microsoft.EntityFrameworkCore.SqlServer</code> package selecting a version which requires dependencies &gt;= 1.0.1</li>
</ul>

<p>In this case, I prefer to mantain the LTS version of .NET Core framework (1.0.1), so I’m going to install an ‘old’ version of the <code class="highlighter-rouge">Microsoft.EntityFrameworkCore.SqlServer</code> package.</p>

<p>Looking at <a href="https://www.nuget.org/packages/Microsoft.EntityFrameworkCore.SqlServer/1.1.0">its NuGet page</a>, in the <em>Version History</em> section, I can see all its versions.
Clicking on one version, its detailed page will be shown, so I can check the version required for each dependency.</p>

<p>Once I have finished to check the dependencies, I have found that the version 1.0.1 of the <code class="highlighter-rouge">Microsoft.EntityFrameworkCore.SqlServer</code> is the latest compatible, so I choose to install it.</p>

<p>To do so, I have to run on the Nuget Package Manager Console: <code class="highlighter-rouge">Install-Package Microsoft.EntityFrameworkCore.SqlServer -Version 1.0.1</code></p>

<p>After a few seconds (once the <em>Restoring packages</em> label on the top of <em>Solution Explorer</em> tab fades away), the package is installed in the selected project (the one selected in the <em>Default project</em> comboBox in the <em>Package Manager Console</em> tab).</p>

<p>Now, let’s do the same operations also for <code class="highlighter-rouge">Microsoft.EntityFrameworkCore.Tools</code> and  <code class="highlighter-rouge">Microsoft.EntityFrameworkCore.Design</code> packages.</p>

<p>Run the following commands in the Nuget <em>Package Manager Console</em>:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Install-Package Microsoft.EntityFrameworkCore.Tools -Version 1.0.0-preview3-final -Pre
Install-Package Microsoft.EntityFrameworkCore.Design -Version 1.0.1
</code></pre>
</div>

<p>The last thing required to complete the EF core setup is to add the EF tools to the <code class="highlighter-rouge">project.json</code> file (in the root directory of the project).</p>

<p>Open the file and move to the “tool” section. Add between the brackets the following line:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="s2">"Microsoft.EntityFrameworkCore.Tools.DotNet"</span>: <span class="s2">"1.0.0-preview3-final"</span>
</code></pre>
</div>

<p>Make sure that the version corresponds to the one you have installed some minutes ago.</p>

<h2 id="setup-ef-core-on-vs-for-database-first-approach">Setup EF core on VS for database-first approach</h2>

<p>If you already have a database, you can generate the model by your database schema.</p>

<p>To setup the EF core framework to work in this way, we have to install the packages required for the <em>code-first</em> approach plus the <code class="highlighter-rouge">Microsoft.EntityFrameworkCore.SqlServer.Design</code></p>

<p>Run</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Install-Package Microsoft.EntityFrameworkCore.SqlServer.Design -Version 1.0.1
</code></pre>
</div>

    
  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2016-04-20T00:00:00+02:00"><a href="/computer%20vision/opencv-mat/">April 20, 2016</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Marco Mengoli">Marco Mengoli</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~53 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/computer%20vision/opencv-mat/" rel="bookmark" title="OpenCV 3, the Mat object" itemprop="url">OpenCV 3, the Mat object</a></h1>
    
  </header>
  <div class="entry-content">
    
      <p>In this post we will introduce the most used object of the new OpenCV3 library, using C++.</p>

<p>The aim of the <strong>Mat</strong> object is to represent a matrix.
It is composed by two parts: the header and the data.</p>

<ul>
  <li>The header contains information about the matrix itself (like the size of the matrix, the data type, number of channels etc…)</li>
  <li>The data contains the pointer to the real matrix</li>
</ul>

<p>Each Mat object has its header, while the data can be shared between multiple instances. The data will be deallocated only when there are no Mat objects pointing to it.</p>

<p>Mat is a very useful object: it is used in a lot of OpenCV functions and it also provides an automatic memory allocation and its release, so the programmers don’t need to do it manually.</p>

<h2 id="library">Library</h2>

<p>The Mat object and the functions we will see in this post are defined within the <strong>Core</strong> library.</p>

<p>We can include it with the following preprocessor directive:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">#include &lt;opencv2\core\core.hpp&gt;
</span></code></pre>
</div>

<p>Everything within this package is contained belogns to the <code class="highlighter-rouge">cv</code> namespace.</p>

<p>You can choose to prepend the namespace <code class="highlighter-rouge">cv::</code> to each object and function of the core library you are using as follows</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">cv</span><span class="o">::</span><span class="n">Mat</span>
<span class="c1">// or
</span><span class="n">cv</span><span class="o">::</span><span class="n">imread</span><span class="p">(...)</span>
</code></pre>
</div>

<p>You can also avoid prepending the namespace with the <code class="highlighter-rouge">using namespace</code> directive, as follows:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">using</span> <span class="n">namespace</span> <span class="n">cv</span><span class="p">;</span>
</code></pre>
</div>

<p>We will choose the second way.</p>

<h2 id="creating-the-mat-object">Creating the Mat object</h2>

<h4 id="sharing-the-same-data">Sharing the same data</h4>

<p>When using the assignment operator or the copy constructor, we get Mat instances having their own header, but sharing the same data.</p>

<p>In the following example, objects A, B and C will point to the same data, so modifying one or more cells in matrix A, the same changes will result on matrices B and C.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">Mat</span> <span class="n">A</span> <span class="o">=</span> <span class="p">...;</span>
<span class="n">Mat</span> <span class="n">B</span><span class="p">(</span><span class="n">A</span><span class="p">);</span>
<span class="c1">// or
</span><span class="n">Mat</span> <span class="n">C</span> <span class="o">=</span> <span class="n">A</span><span class="p">;</span>
</code></pre>
</div>

<h4 id="cloning-the-data">Cloning the data</h4>

<p>To obtain two distinct matrices, so that modifying a value on the first will not affect the same value of the second, we can use the <code class="highlighter-rouge">clone()</code> or <code class="highlighter-rouge">copyTo()</code> operators.</p>

<p>In this way the two matrices will have different headers and two distinct datas, which will have the same values at the moment of the clone operation.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">Mat</span> <span class="n">A</span> <span class="o">=</span> <span class="p">...;</span>
<span class="n">Mat</span> <span class="n">B</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">clone</span><span class="p">();</span>
<span class="c1">// or
</span><span class="n">Mat</span> <span class="n">C</span><span class="p">;</span>
<span class="n">A</span><span class="p">.</span><span class="n">copyTo</span><span class="p">(</span><span class="n">C</span><span class="p">);</span>
</code></pre>
</div>

<h4 id="reading-an-image">Reading an image</h4>

<p>To initialize a Mat object filling its values directly from an image saved into the memory, you can use the <strong>imread</strong> function, whose signature is</p>

<p><strong>imread(String &amp; filename, int flags = IMREAD_COLOR)</strong></p>

<p>which expects two parameters:</p>

<ul>
  <li>the name of the image file to load and file</li>
  <li>the image mode (the default is IMREAD_COLOR), for example:</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">IMREAD_UNCHANGED</span>  <span class="n">If</span> <span class="n">set</span><span class="p">,</span> <span class="k">return</span> <span class="n">the</span> <span class="n">loaded</span> <span class="n">image</span> <span class="n">as</span> <span class="n">is</span> <span class="p">(</span><span class="n">with</span> <span class="n">alpha</span> <span class="n">channel</span><span class="p">,</span> <span class="n">otherwise</span> <span class="n">it</span> <span class="n">gets</span> <span class="n">cropped</span><span class="p">).</span>
<span class="n">IMREAD_GRAYSCALE</span>  <span class="n">If</span> <span class="n">set</span><span class="p">,</span> <span class="n">always</span> <span class="n">convert</span> <span class="n">image</span> <span class="n">to</span> <span class="n">the</span> <span class="n">single</span> <span class="n">channel</span> <span class="n">grayscale</span> <span class="n">image</span><span class="p">.</span>
<span class="n">IMREAD_COLOR</span>      <span class="n">If</span> <span class="n">set</span><span class="p">,</span> <span class="n">always</span> <span class="n">convert</span> <span class="n">image</span> <span class="n">to</span> <span class="n">the</span> <span class="mi">3</span> <span class="n">channel</span> <span class="n">BGR</span> <span class="n">color</span> <span class="n">image</span><span class="p">.</span>
<span class="n">IMREAD_ANYDEPTH</span>   <span class="n">If</span> <span class="n">set</span><span class="p">,</span> <span class="k">return</span> <span class="mi">16</span><span class="o">-</span><span class="n">bit</span><span class="o">/</span><span class="mi">32</span><span class="o">-</span><span class="n">bit</span> <span class="n">image</span> <span class="n">when</span> <span class="n">the</span> <span class="n">input</span> <span class="n">has</span> <span class="n">the</span> <span class="n">corresponding</span> <span class="n">depth</span><span class="p">,</span> <span class="n">otherwise</span> <span class="n">convert</span> <span class="n">it</span> <span class="n">to</span> <span class="mi">8</span><span class="o">-</span><span class="n">bit</span><span class="p">.</span>
<span class="n">IMREAD_ANYCOLOR</span>   <span class="n">If</span> <span class="n">set</span><span class="p">,</span> <span class="n">the</span> <span class="n">image</span> <span class="n">is</span> <span class="n">read</span> <span class="n">in</span> <span class="n">any</span> <span class="n">possible</span> <span class="n">color</span> <span class="n">format</span><span class="p">.</span>
</code></pre>
</div>

<p>The function loads the image from the specified file, allocates the memory and returns the Mat object.</p>

<p>If the image cannot be read, the function returns an empty matrix (Mat::data==NULL).</p>

<h4 id="creating-a-new-mat-object">Creating a new Mat object</h4>

<p>We can create a Mat object also specifying its size (the number of rows and columns), the number of channels per cell and its initial value.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">Mat</span> <span class="n">A</span><span class="p">(</span><span class="kt">int</span> <span class="n">rows</span><span class="p">,</span> <span class="kt">int</span> <span class="n">cols</span><span class="p">,</span> <span class="kt">int</span> <span class="n">type</span><span class="p">,</span> <span class="n">Scalar</span> <span class="o">&amp;</span> <span class="n">s</span><span class="p">);</span>
</code></pre>
</div>

<p>the <strong>type</strong> parameter is constructed according to the following convention:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">CV_</span><span class="p">[</span><span class="n">number</span> <span class="n">of</span> <span class="n">bits</span> <span class="n">per</span> <span class="n">value</span><span class="p">][</span><span class="n">value</span> <span class="n">Type</span><span class="p">]</span><span class="n">C</span><span class="p">[</span><span class="n">number</span> <span class="n">of</span> <span class="n">channels</span><span class="p">]</span>
<span class="n">eg</span><span class="o">:</span>
<span class="n">CV_8UC1</span>   <span class="o">-</span>  <span class="mi">8</span>  <span class="n">bit</span> <span class="n">per</span> <span class="n">channel</span><span class="p">,</span> <span class="n">Unsigned</span> <span class="kt">char</span><span class="p">,</span> <span class="mi">1</span> <span class="n">channel</span> <span class="n">per</span> <span class="n">cell</span>
<span class="n">CV_8UC2</span>   <span class="o">-</span>  <span class="mi">8</span>  <span class="n">bit</span> <span class="n">per</span> <span class="n">channel</span><span class="p">,</span> <span class="n">Unsigned</span> <span class="kt">char</span><span class="p">,</span> <span class="mi">2</span> <span class="n">channels</span> <span class="n">per</span> <span class="n">cell</span>
<span class="n">CV_8UC3</span>   <span class="o">-</span>  <span class="mi">8</span>  <span class="n">bit</span> <span class="n">per</span> <span class="n">channel</span><span class="p">,</span> <span class="n">Unsigned</span> <span class="kt">char</span><span class="p">,</span> <span class="mi">3</span> <span class="n">channels</span> <span class="n">per</span> <span class="n">cell</span>
<span class="n">CV_8UC</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">-</span>  <span class="mi">8</span>  <span class="n">bit</span> <span class="n">per</span> <span class="n">channel</span><span class="p">,</span> <span class="n">Unsigned</span> <span class="kt">char</span><span class="p">,</span> <span class="n">n</span> <span class="n">channels</span> <span class="n">per</span> <span class="n">cell</span>
<span class="n">CV_64FC1</span>  <span class="o">-</span>  <span class="mi">64</span> <span class="n">bits</span> <span class="n">per</span> <span class="n">channel</span><span class="p">,</span> <span class="kt">float</span> <span class="p">,</span> <span class="mi">1</span> <span class="n">channel</span> <span class="n">per</span> <span class="n">cell</span>
<span class="n">CV_64FC4</span>  <span class="o">-</span>  <span class="mi">64</span> <span class="n">bits</span> <span class="n">per</span> <span class="n">channel</span><span class="p">,</span> <span class="kt">float</span> <span class="p">,</span> <span class="mi">4</span> <span class="n">channels</span> <span class="n">per</span> <span class="n">cell</span>
<span class="n">CV_64FC</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">-</span>  <span class="mi">64</span> <span class="n">bits</span> <span class="n">per</span> <span class="n">channel</span><span class="p">,</span> <span class="kt">float</span> <span class="p">,</span> <span class="n">n</span> <span class="n">channels</span> <span class="n">per</span> <span class="n">cell</span>
</code></pre>
</div>

<p>The <strong>Scalar</strong> type s is an optional <strong>4-element short vector</strong> value to initialize each matrix element with.</p>

<p><em>The type Scalar is widely used in OpenCV to pass pixel values</em>.</p>

<p>Let’s see some examples:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">Mat</span> <span class="n">M</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">CV_8UC3</span><span class="p">,</span> <span class="n">Scalar</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">));</span> <span class="c1">// creates a 2x2 matrix, each value is an 8 bit unsigned short, 3 channels for each cell, initialized to 0, 0 and 255.
</span>
<span class="n">Mat</span> <span class="n">B</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">CV_8UC</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">Scalar</span><span class="o">::</span><span class="n">all</span><span class="p">(</span><span class="mi">0</span><span class="p">));</span><span class="c1">// creates a 3x3 matrix, each value is an 8 bit unsigned short, only 1 channel for each cell, initializing all cell values  to 0 value.
</span></code></pre>
</div>

<h4 id="other-ways-to-create-the-mat-object">Other ways to create the Mat object</h4>

<p>Three methods similar to the constructor seen above are <strong>Mat::zeros</strong> , <strong>Mat::ones</strong> and <strong>Mat::eye</strong>.</p>

<p>You can use these 3 functions specifying the number of rows, of columns and the type of the cell.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">Mat</span> <span class="n">A</span> <span class="o">=</span> <span class="n">Mat</span><span class="o">::</span><span class="n">zeros</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">CV_8UC1</span><span class="p">);</span> <span class="c1">// sets all elements to 0
</span><span class="n">Mat</span> <span class="n">B</span> <span class="o">=</span> <span class="n">Mat</span><span class="o">::</span><span class="n">ones</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">CV_8UC1</span><span class="p">);</span> <span class="c1">// sets all elements to 1
</span><span class="n">Mat</span> <span class="n">C</span> <span class="o">=</span> <span class="n">Mat</span><span class="o">::</span><span class="n">eye</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">CV_8UC1</span><span class="p">);</span> <span class="c1">// sets all elements to 0, except the main diagonal to 1
</span></code></pre>
</div>

<p>The last method to create (small) matrices is using the <strong>«</strong> operator:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">Mat</span> <span class="n">A</span> <span class="o">=</span> <span class="p">(</span><span class="n">Mat_</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">);</span>
</code></pre>
</div>

<h2 id="output">Output</h2>

<p>The Mat object can be inserted into the <strong>«</strong> operators to print the matrix to a stream.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">Mat</span> <span class="n">A</span> <span class="o">=</span> <span class="p">(</span><span class="n">Mat_</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">);</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">A</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</code></pre>
</div>

<h2 id="save-the-matrix-in-an-image-file-on-the-disk">Save the matrix in an image file on the disk</h2>

<p>To save a Mat object, creating an image file on the disk, use the <strong>imwrite</strong> function. Parametes are:</p>

<ul>
  <li>const String &amp; filename - the file name (including the path) where to save the image</li>
  <li>InputArray img - the object containing the matrix to save</li>
</ul>

<p>Let’s check an example:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">Mat</span> <span class="n">A</span> <span class="o">=</span> <span class="p">(</span><span class="n">Mat_</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">);</span>
<span class="n">imwrite</span><span class="p">(</span> <span class="s">"../../images/myIImage.jpg"</span><span class="p">,</span> <span class="n">A</span> <span class="p">);</span>
</code></pre>
</div>

<h2 id="accessing-pixel-values">Accessing pixel values</h2>

<p>To access to the intensity value of a pixel of the matrix, first you have to know the number of channels per pixel. In a simple grayscale image, there will be only 1 channel, while in a RGB color image there will be 3 channels per pixel.</p>

<p>On a single channel, for example a Mat object of type <strong>8UC1</strong>, you can access the pixel value (0-255) in the following way:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">Scalar</span> <span class="n">intensity</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">.</span><span class="n">at</span><span class="o">&lt;</span><span class="n">uchar</span><span class="o">&gt;</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">);</span>
</code></pre>
</div>

<h5 id="note-to-maintain-the-usual-math-order-first-the-row-then-the-column-number-you-have-to-specify-the-y-parameter-before-the-x-parameter">Note: to maintain the usual math order (first the row, then the column number), you have to specify the <strong>y parameter before the x parameter</strong></h5>

<p>It can be very tricky, so you can use the <strong>Point</strong> object to prevent sneaky errors:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">Scalar</span> <span class="n">intensity</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">.</span><span class="n">at</span><span class="o">&lt;</span><span class="n">uchar</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">));</span>
</code></pre>
</div>

<p>You can also use this notation to change the value of a pixel:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">matrix</span><span class="p">.</span><span class="n">at</span><span class="o">&lt;</span><span class="n">uchar</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>  <span class="c1">// setting the pixel (x,y) to 0
</span></code></pre>
</div>

<p>On a 3-channel image, the way to access to each pixel and to the 3 values of each pixel (one per channel) is the following:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">Vec3b</span> <span class="n">intensity</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">.</span><span class="n">at</span><span class="o">&lt;</span><span class="n">Vec3b</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">));</span>
<span class="n">uchar</span> <span class="n">blue</span> <span class="o">=</span> <span class="n">intensity</span><span class="p">.</span><span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="n">uchar</span> <span class="n">green</span> <span class="o">=</span> <span class="n">intensity</span><span class="p">.</span><span class="n">val</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="n">uchar</span> <span class="n">red</span> <span class="o">=</span> <span class="n">intensity</span><span class="p">.</span><span class="n">val</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
</code></pre>
</div>

<h5 id="note-the-redgreenblue-order-is-the-inverse-of-what-you-can-expect">Note: the RedGreenBlue order is the inverse of what you can expect</h5>

<p>Of course, if the matrix type is not equals to <strong>8UC1</strong> you have to change the type of the variables representing each channel. For example, with data type <strong>CV_64FC1</strong>, the variables’ type will be:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">Vec3f</span> <span class="n">intensity</span> <span class="o">=</span> <span class="n">img</span><span class="p">.</span><span class="n">at</span><span class="o">&lt;</span><span class="n">Vec3f</span><span class="o">&gt;</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">);</span>
<span class="kt">float</span> <span class="n">blue</span> <span class="o">=</span> <span class="n">intensity</span><span class="p">.</span><span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="kt">float</span> <span class="n">green</span> <span class="o">=</span> <span class="n">intensity</span><span class="p">.</span><span class="n">val</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="kt">float</span> <span class="n">red</span> <span class="o">=</span> <span class="n">intensity</span><span class="p">.</span><span class="n">val</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
</code></pre>
</div>

<h4 id="splitting-the-rgb-image">Splitting the RGB image</h4>

<p>OpenCV provides the <code class="highlighter-rouge">split()</code> function to split the 3-channels RGB image into 3 Mat objects, one per channel.
The parameters are the Mat object containing the source image and the vector of Mat objects, representing each RGB channel <strong>in reverse order, where the first is Blue, then Green and Red</strong>.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">vector</span><span class="o">&lt;</span><span class="n">Mat</span><span class="o">&gt;</span> <span class="n">bgr_channels</span><span class="p">;</span>
<span class="n">split</span><span class="p">(</span> <span class="n">image</span> <span class="p">,</span> <span class="n">bgr_channels</span> <span class="p">);</span>
</code></pre>
</div>

<h2 id="visualizing-an-image">Visualizing an image</h2>

<p>To visualize an image on the screen, especially to check the results of your algorithm, OpenCV includes some very useful method for creating (<strong>namedWindow</strong>) and visualizing (<strong>imshow</strong>) a 8UC image.</p>

<p>Both methods will require, as the first parameter, a String containing the name of the window. Each window will be referenced by its name.</p>

<p>Let’s look at an example:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">Mat</span> <span class="n">matrix</span> <span class="o">=</span> <span class="n">imread</span><span class="p">(</span><span class="s">"../data/image.jpg"</span><span class="p">);</span>
<span class="n">namedWindow</span><span class="p">(</span><span class="s">"windowName"</span><span class="p">,</span> <span class="n">WINDOW_AUTOSIZE</span><span class="p">);</span>
<span class="n">imshow</span><span class="p">(</span><span class="s">"windowName"</span><span class="p">,</span> <span class="n">matrix</span><span class="p">);</span>
<span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
</code></pre>
</div>

<p><strong>waitKey(timeout)</strong> is a function waiting until a timeout for a key stroke. When pressing the key, the focus must be in the “windowName” window, otherwise it’s discarded.</p>

<h5 id="note-1-setting-the-timeout-to-0-the-function-will-wait-undefinitively-until-the-key-stroke">Note 1: setting the timeout to 0, the function will wait undefinitively until the key stroke</h5>

<h5 id="note-2-putting-the-waitkey-function-inside-a-loop-it-will-create-a-transition-where-the-speed-depends-on-the-timeout-time-lower-timeout-higher-speed">Note 2: putting the waitKey function inside a loop, it will create a transition where the speed depends on the timeout time (lower timeout, higher speed)</h5>

    
  </div><!-- /.entry-content -->
</article><!-- /.hentry -->


<div class="pagination">
  
    Previous
  
  <ul class="inline-list">
    <li>
      
        <span class="current-page">1</span>
      
    </li>
    
      <li>
        
          <a href="/page2">2</a>
        
      </li>
    
      <li>
        
          <a href="/page3">3</a>
        
      </li>
    
  </ul>
  
    <a href="/page2" class="btn">Next</a>
  
</div><!-- /.pagination -->

</div><!-- /#main -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>
<script async defer id="github-bjs" src="https://buttons.github.io/buttons.js"></script>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- start cookie law banner -->
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#edeff5",
      "text": "#838391"
    },
    "button": {
      "background": "#4b81e8"
    }
  },
  "theme": "classic",
  "position": "bottom-right",
  "content": {
    "message": "This website uses cookies to ensure you get the best experience on our website. This is not a culinary website ;)"
  }
})});
</script>
<!-- end cookie law banner -->







<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2016 Marco Mengoli. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://github.com/aron-bordin/neo-hpstr-jekyll-theme" rel="nofollow">Neo-HPSTR Theme</a>.</span>

  </footer>
</div><!-- /.footer-wrapper -->

</body>
</html>
